<p-toolbar>
  <div class="p-toolbar-group-left">
    <h3>Companies &amp; Persons</h3>
  </div>

  <div class="p-toolbar-group-right">
    <span class="p-input-icon-left mr-2">
        <i class="pi pi-search"></i>
        <input type="text" #searchFilter pInputText placeholder="Search" [(ngModel)]="filter">
    </span>
    <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger p-button-text"  (click)="resetFilter()"></button>
  </div>
</p-toolbar>

<p>
  <small><i>Drag &amp; Drop elements (you can drag companies on header icon)</i></small>
</p>

<!--
<div class="grid">
  <div class="col-4 flex " style="background-color: red; height: 100px">
    <div class="flex-grow-1" style="background-color: #0d6efd">A</div>
  </div>
  <div class="col-4" style="background-color: yellow">
    <div class="" style="background-color: #0d6efd">B</div>
  </div>
  <div class="col-4" style="background-color: lightgreen">C</div>
</div>
-->

<div style="display: flex; flex-direction: column">
  <div style="flex: 1 1 100%">
    <app-company-item [companies]="companies$ | async" [handler]="handler" [companyEdit]="companyEdit" [personEdit]="personEdit"></app-company-item>
  </div>
  <hr>
  <div class="grid footer-panel" style="flex: 1 1 auto">

    <div class="col-4">
      <p-card styleClass="text-center clickable" header="Add company" (click)="addCompany()">
        <i class="pi pi-plus text-lg"></i>
      </p-card>
    </div>
    <!--
    <div class="col-4 flex justify-content-center align-items-center">
      <p-panel class="text-center" styleClass="rubbish-panel" style="flex: 1 1 100%" header="Drop here to delete..." pDroppable="company" (onDrop)="handler.drop(COMPANY_ID_RUBBISH_BIN, dragDropActionEnum.Delete)">
        <i class="pi pi-trash text-lg"></i>
      </p-panel>
    </div>
    -->
    <div class="col-4">
      <!--
        <p-panel class="text-center" styleClass="rubbish-panel" style="color: blue" header="Drop here to delete..." pDroppable="company" (onDrop)="handler.drop(COMPANY_ID_RUBBISH_BIN, dragDropActionEnum.Delete)">
      -->
      <p-card styleClass="text-center rubbish-panel" header="Drop here to delete..." pDroppable="company" (onDrop)="handler.drop(COMPANY_ID_RUBBISH_BIN, dragDropActionEnum.Delete)">
        <i class="pi pi-trash text-lg"></i>
      </p-card>
    </div>
  </div>
</div>

<app-company-edit-adapter #companyEdit [style]="{'overflow':'visible'}"></app-company-edit-adapter>
<app-person-edit-adapter #personEdit [style]="{'overflow':'visible'}"></app-person-edit-adapter>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>

